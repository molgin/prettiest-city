<%= form_tag(matchups_path, method: "get", id: "matchup-chooser") do %>
  <select name="city_1">
    <%= options_from_collection_for_select(City.all, :id, :full_name, @city_1.id) %>
  </select>
  vs.
  <select name="city_2">
    <%= options_from_collection_for_select(City.all, :id, :full_name, @city_2.id) %>
  </select>
  <%= submit_tag "Go", class: "submit" %>
<% end %>


<h1 class="text-center" style="color: darkblue"><span id="city-1" city-id="<%= @city_1.id %>" ><%= @city_1.full_name %></span> vs. <span id="city-2" city-id="<%= @city_2.id %>" ><%= @city_2.full_name %></span></h1>



<div id="map-canvas-1"></div>

<div id="map-canvas-2"></div>

<section class="container-fluid">

  <section class="views" class="row">

    <section id="view-1" class="col-md-6">
      <div id="pano-1" style="min-height:75vh; margin-bottom: 5px; border-radius: 15px;">
        <div class="spinner">
          <div class="double-bounce1"></div>
          <div class="double-bounce2"></div>
        </div>
      </div>

      <%= form_for Matchup.new, remote: true, authenticity_token: true do |f| %>
        <%= f.hidden_field :city_1, {value: @city_1.id} %>
        <%= f.hidden_field :city_2, {value: @city_2.id} %>
        <%= f.hidden_field :winning_city, {value: @city_1.id} %>
        <%= f.hidden_field :losing_city, {value: @city_2.id} %>
        <%= f.fields_for :winning_coords do |wf| %>
          <%= wf.hidden_field :lat %>
          <%= wf.hidden_field :long %>
        <% end %>
        <%= f.fields_for :losing_coords do |lf| %>
          <%= lf.hidden_field :lat %>
          <%= lf.hidden_field :long %>
        <% end %>
        <%= f.submit "Vote", {class: "center-block btn btn-lg btn-primary"} %>
      <% end %>

    </section>

    <section id="view-2" class="col-md-6">
      <div id="pano-2" style="min-height:75vh; margin-bottom: 5px; border-radius: 15px;">
        <div class="spinner">
          <div class="double-bounce1"></div>
          <div class="double-bounce2"></div>
        </div>
      </div>

      <%= form_for Matchup.new, remote: true, authenticity_token: true do |f| %>
        <%= f.hidden_field :city_1, {value: @city_1.id} %>
        <%= f.hidden_field :city_2, {value: @city_2.id} %>
        <%= f.hidden_field :winning_city, {value: @city_2.id} %>
        <%= f.hidden_field :losing_city, {value: @city_1.id} %>
        <%= f.fields_for :winning_coords do |wf| %>
          <%= wf.hidden_field :lat %>
          <%= wf.hidden_field :long %>
        <% end %>
        <%= f.fields_for :losing_coords do |lf| %>
          <%= lf.hidden_field :lat %>
          <%= lf.hidden_field :long %>
        <% end %>
        <%= f.submit "Vote", {class: "center-block btn btn-lg btn-primary"} %>
      <% end %>

    </section>


  </section>

</section>